{"ast":null,"code":"import _defineProperty from\"/Users/franco/coding_dojo/MERN/Full-Stack_MERN/exam-MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/franco/coding_dojo/MERN/Full-Stack_MERN/exam-MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/franco/coding_dojo/MERN/Full-Stack_MERN/exam-MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Form from'../components/Form';import axios from'axios';import{Link,navigate}from'@reach/router';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Update=function Update(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),myForm=_useState2[0],setMyForm=_useState2[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pet/\".concat(props._id)).then(function(res){return setMyForm(res.data);}).catch(function(err){return console.log(\"Something went wrong gettting data for update!\");});},[]);var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var onChangeHandler=function onChangeHandler(e){setMyForm(_objectSpread(_objectSpread({},myForm),{},_defineProperty({},e.target.name,e.target.value)));};var submitHandler=function submitHandler(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pet/update/\".concat(props._id),myForm).then(function(res){if(res.data.error){setError(res.data.error.errors);}else{navigate(\"/\");}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" Edit: \",myForm.petName,\" \"]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"p\",{children:\"back to home\"})})]}),/*#__PURE__*/_jsx(Form,{myForm:myForm,error:error,onChangeHandler:onChangeHandler,submitHandler:submitHandler})]});};export default Update;","map":{"version":3,"sources":["/Users/franco/coding_dojo/MERN/Full-Stack_MERN/exam-MERN/client/src/views/Update.jsx"],"names":["React","useEffect","useState","Form","axios","Link","navigate","Update","props","myForm","setMyForm","get","_id","then","res","data","catch","err","console","log","error","setError","onChangeHandler","e","target","name","value","submitHandler","preventDefault","put","errors","petName"],"mappings":"miBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,eAA/B,C,6IAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,CAAI,CACpB,cAA4BN,QAAQ,CAAC,EAAD,CAApC,wCAAOO,MAAP,eAAeC,SAAf,eACAT,SAAS,CAAC,UAAM,CACZG,KAAK,CAACO,GAAN,yCAA2CH,KAAK,CAACI,GAAjD,GACKC,IADL,CACU,SAAAC,GAAG,QAAIJ,CAAAA,SAAS,CAACI,GAAG,CAACC,IAAL,CAAb,EADb,EAEKC,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,gDAAZ,CAAJ,EAFd,EAGH,CAJQ,CAIN,EAJM,CAAT,CAKA,eAA0BjB,QAAQ,CAAC,EAAD,CAAlC,yCAAOkB,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,CAAC,CAAI,CACzBb,SAAS,gCAAKD,MAAL,wBAAcc,CAAC,CAACC,MAAF,CAASC,IAAvB,CAA8BF,CAAC,CAACC,MAAF,CAASE,KAAvC,GAAT,CACH,CAFD,CAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAJ,CAAC,CAAI,CACvBA,CAAC,CAACK,cAAF,GAEIxB,KAAK,CAACyB,GAAN,gDAAkDrB,KAAK,CAACI,GAAxD,EAA+DH,MAA/D,EACKI,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,IAAJ,CAASK,KAAZ,CAAkB,CACdC,QAAQ,CAACP,GAAG,CAACC,IAAJ,CAASK,KAAT,CAAeU,MAAhB,CAAR,CACH,CAFD,IAEO,CACHxB,QAAQ,CAAC,GAAD,CAAR,CACH,CACJ,CAPL,EAQKU,KARL,CAQW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EARd,EASP,CAZD,CAaA,mBACI,wCACI,aAAK,SAAS,CAAC,KAAf,wBACI,gCAAYR,MAAM,CAACsB,OAAnB,OADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,mCAAb,EAFJ,GADJ,cAKI,KAAC,IAAD,EAAM,MAAM,CAAEtB,MAAd,CAAsB,KAAK,CAAEW,KAA7B,CAAoC,eAAe,CAAEE,eAArD,CAAsE,aAAa,CAAEK,aAArF,EALJ,GADJ,CASH,CAjCD,CAmCA,cAAepB,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Form from '../components/Form';\nimport axios from 'axios';\nimport { Link, navigate } from '@reach/router';\n\n\nconst Update = props => {\n    const [myForm, setMyForm] = useState({});\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pet/${props._id}`)\n            .then(res => setMyForm(res.data))\n            .catch(err => console.log(\"Something went wrong gettting data for update!\"))\n    }, [])\n    const [error, setError] = useState({});\n    const onChangeHandler = e => {\n        setMyForm({...myForm, [e.target.name]: e.target.value});\n    }\n    const submitHandler = e => {\n        e.preventDefault();\n\n            axios.put(`http://localhost:8000/api/pet/update/${props._id}`, myForm)\n                .then(res => {\n                    if(res.data.error){\n                        setError(res.data.error.errors)\n                    } else {\n                        navigate(\"/\");\n                    }\n                })\n                .catch(err => console.log(err))\n    }\n    return(\n        <>  \n            <div className=\"App\">\n                <h1> Edit: {myForm.petName} </h1>\n                <Link to=\"/\"><p>back to home</p></Link>\n            </div>\n            <Form myForm={myForm} error={error} onChangeHandler={onChangeHandler} submitHandler={submitHandler} />\n        </>\n    );\n}\n\nexport default Update;"]},"metadata":{},"sourceType":"module"}