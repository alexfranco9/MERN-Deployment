{"ast":null,"code":"var _jsxFileName = \"/Users/franco/coding_dojo/MERN/Full-Stack_MERN/exam-MERN/client/src/views/Update.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Form from '../components/Form';\nimport axios from 'axios';\nimport { Link, navigate } from '@reach/router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Update = props => {\n  _s();\n\n  const [myForm, setMyForm] = useState({});\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/pet/${props._id}`).then(res => setMyForm(res.data)).catch(err => console.log(\"Something went wrong gettting data for update!\"));\n  }, []);\n  const [error, setError] = useState({});\n\n  const onChangeHandler = e => {\n    setMyForm({ ...myForm,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    axios.put(`http://localhost:8000/api/pet/update/${props._id}`, myForm).then(res => {\n      if (res.data.error) {\n        setError(res.data.error.errors);\n      } else {\n        navigate(\"/\");\n      }\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" Edit: \", props.petName, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      myForm: myForm,\n      error: error,\n      onChangeHandler: onChangeHandler,\n      submitHandler: submitHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Update, \"oZkMwnbjNhcNdbxlPNOX9Bv4ME0=\");\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"sources":["/Users/franco/coding_dojo/MERN/Full-Stack_MERN/exam-MERN/client/src/views/Update.jsx"],"names":["React","useEffect","useState","Form","axios","Link","navigate","Update","props","myForm","setMyForm","get","_id","then","res","data","catch","err","console","log","error","setError","onChangeHandler","e","target","name","value","submitHandler","preventDefault","put","errors","petName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,eAA/B;;;;AAGA,MAAMC,MAAM,GAAGC,KAAK,IAAI;AAAA;;AACpB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,KAAK,CAACO,GAAN,CAAW,iCAAgCH,KAAK,CAACI,GAAI,EAArD,EACKC,IADL,CACUC,GAAG,IAAIJ,SAAS,CAACI,GAAG,CAACC,IAAL,CAD1B,EAEKC,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAY,gDAAZ,CAFlB;AAGH,GAJQ,EAIN,EAJM,CAAT;AAKA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAAC,EAAD,CAAlC;;AACA,QAAMoB,eAAe,GAAGC,CAAC,IAAI;AACzBb,IAAAA,SAAS,CAAC,EAAC,GAAGD,MAAJ;AAAY,OAACc,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAAtC,KAAD,CAAT;AACH,GAFD;;AAGA,QAAMC,aAAa,GAAGJ,CAAC,IAAI;AACvBA,IAAAA,CAAC,CAACK,cAAF;AAEIxB,IAAAA,KAAK,CAACyB,GAAN,CAAW,wCAAuCrB,KAAK,CAACI,GAAI,EAA5D,EAA+DH,MAA/D,EACKI,IADL,CACUC,GAAG,IAAI;AACT,UAAGA,GAAG,CAACC,IAAJ,CAASK,KAAZ,EAAkB;AACdC,QAAAA,QAAQ,CAACP,GAAG,CAACC,IAAJ,CAASK,KAAT,CAAeU,MAAhB,CAAR;AACH,OAFD,MAEO;AACHxB,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACH;AACJ,KAPL,EAQKU,KARL,CAQWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARlB;AASP,GAZD;;AAaA,sBACI;AAAA,4BACI;AAAA,4BAAYT,KAAK,CAACuB,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,IAAD;AAAM,MAAA,MAAM,EAAEtB,MAAd;AAAsB,MAAA,KAAK,EAAEW,KAA7B;AAAoC,MAAA,eAAe,EAAEE,eAArD;AAAsE,MAAA,aAAa,EAAEK;AAArF;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA,kBADJ;AAMH,CA9BD;;GAAMpB,M;;KAAAA,M;AAgCN,eAAeA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Form from '../components/Form';\nimport axios from 'axios';\nimport { Link, navigate } from '@reach/router';\n\n\nconst Update = props => {\n    const [myForm, setMyForm] = useState({});\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pet/${props._id}`)\n            .then(res => setMyForm(res.data))\n            .catch(err => console.log(\"Something went wrong gettting data for update!\"))\n    }, [])\n    const [error, setError] = useState({});\n    const onChangeHandler = e => {\n        setMyForm({...myForm, [e.target.name]: e.target.value});\n    }\n    const submitHandler = e => {\n        e.preventDefault();\n\n            axios.put(`http://localhost:8000/api/pet/update/${props._id}`, myForm)\n                .then(res => {\n                    if(res.data.error){\n                        setError(res.data.error.errors)\n                    } else {\n                        navigate(\"/\");\n                    }\n                })\n                .catch(err => console.log(err))\n    }\n    return(\n        <>\n            <h1> Edit: {props.petName} </h1>\n            <Form myForm={myForm} error={error} onChangeHandler={onChangeHandler} submitHandler={submitHandler} />\n        </>\n    );\n}\n\nexport default Update;"]},"metadata":{},"sourceType":"module"}